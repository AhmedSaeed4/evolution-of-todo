# ========================================
# Phase V: Microservices Backend Environment
# ========================================
# This file contains all environment variables for the Phase 5 backend services
# Copy this file to .env and fill in your actual values

# ========================================
# Database Configuration
# ========================================
# Neon PostgreSQL connection string (SSL required)
DATABASE_URL="postgresql://user:password@host:port/database?sslmode=require"

# ========================================
# JWT Authentication
# ========================================
# JWT secret for token validation (must match frontend BETTER_AUTH_SECRET)
JWT_SECRET="your-jwt-secret-key-min-32-characters"

# ========================================
# Better Auth Configuration
# ========================================
# Better Auth session encryption secret (generate with: openssl rand -base64 32)
BETTER_AUTH_SECRET="your-better-auth-secret-key-min-32-characters"

# ========================================
# Dapr Configuration
# ========================================
# Dapr sidecar HTTP port (default: 3500)
DAPR_HTTP_PORT="3500"

# Dapr sidecar host (default: localhost for local dev)
DAPR_HOST="localhost"

# ========================================
# API Server Configuration
# ========================================
# API server host binding
API_HOST="0.0.0.0"

# API server port
API_PORT="8000"

# ========================================
# CORS Configuration
# ========================================
# Allowed CORS origins (comma-separated)
# For Minikube tunnel: http://127.0.0.1:3000
# For local dev: http://localhost:3000
CORS_ORIGINS="http://127.0.0.1:3000,http://localhost:3000"

# ========================================
# OpenAI Configuration (for ChatKit)
# ========================================
# OpenAI API key for ChatKit session management
OPENAI_API_KEY="sk-your-openai-api-key"

# ========================================
# Xiaomi AI Configuration
# ========================================
# Xiaomi API key for mimo-v2-flash model
XIAOMI_API_KEY="your-xiaomi-api-key"

# ========================================
# Redis Configuration (for Dapr State Store)
# ========================================
# Redis host for Dapr state store (optional - configured in k8s-dapr)
# REDIS_HOST="localhost:6379"
# REDIS_PASSWORD=""

# ========================================
# Kafka Configuration (optional - configured in k8s-dapr)
# ========================================
# Kafka broker address for Redpanda
# KAFKA_BROKER="redpanda.default.svc.cluster.local:9093"

# ========================================
# Service Selection (for Docker multi-entrypoint)
# ========================================
# Service to run (backend-api, websocket-service, notification-service, audit-service, recurring-service)
# Only used in Docker/Kubernetes deployments
SERVICE="backend-api"

# ========================================
# Environment
# ========================================
# Environment: development, staging, production
ENVIRONMENT="development"

# ========================================
# Debug Mode
# ========================================
# Enable debug logging (true/false)
DEBUG="true"
